<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Flash-Card 300 ‚Äì GitHub Ready</title>
<style>
  *{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,Arial,Helvetica,sans-serif}
  body{height:100vh;display:flex;flex-direction:column;align-items:center;background:#ffedd8;color:#333}
  #topbar{width:100%;display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#006d77;color:#fff}
  button{border:none;border-radius:8px;padding:.6rem 1.2rem;background:#e29578;color:#fff;font-size:1rem;cursor:pointer}
  button:active{transform:scale(.95)}
  #card{position:relative;width:85vw;max-width:450px;height:85vw;max-height:450px;background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.2);display:flex;align-items:center;justify-content:center;overflow:hidden}
  #card img{width:100%;height:100%;object-fit:cover}
  #label{position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,.6);color:#fff;font-size:1.8rem;font-weight:700;text-align:center;padding:.7rem}
  #counter{margin-top:.5rem;font-size:1rem;color:#555}
  .swipe-hint{position:absolute;top:50%;transform:translateY(-50%);font-size:3rem;opacity:.3;user-select:none}
  #prev{left:-50px} #next{right:-50px}
</style>
</head>
<body>

<header id="topbar">
  <h1>Flash-Card 300</h1>
  <div>
    <button id="shuffle">üîÄ Acak</button>
    <button id="autoplay">‚ñ∂Ô∏è Auto</button>
    <select id="lang">
      <option value="id-ID">Indonesia</option>
      <option value="en-US">English</option>
    </select>
  </div>
</header>

<div id="card">
  <span class="swipe-hint" id="prev">‚óÄ</span>
  <img id="pic" src="" alt="">
  <div id="label"></div>
  <span class="swipe-hint" id="next">‚ñ∂</span>
</div>

<div id="counter"><span id="num">0</span> / 300</div>

<script>
/* ---------- DATA 300 KARTU ---------- */
const data=[.../* paste array 300 objek di sini */];

/* ---------- STATE ---------- */
let idx=0, auto=0, shuffled=[...data];
const pic=document.getElementById('pic');
const label=document.getElementById('label');
const num=document.getElementById('num');
const btnAuto=document.getElementById('autoplay');
const btnShuffle=document.getElementById('shuffle');
const selLang=document.getElementById('lang');

/* ---------- FUNGSI ---------- */
function show(){
  const item = shuffled[idx];
  /* pakai CDN - ganti path jika pakai lokal */
  pic.src = `https://raw.githubusercontent.com/sonyarianto/flash300/main/webp/${item.id}.webp`;
  const lang = selLang.value;
  label.textContent = lang==='id-ID'?item.idL:item.enL;
  num.textContent = idx+1;
  const utt = new SpeechSynthesisUtterance(label.textContent);
  utt.lang = lang; utt.rate=0.9;
  speechSynthesis.cancel(); speechSynthesis.speak(utt);
}
function next(){ idx=(idx+1)%data.length; show(); }
function prev(){ idx=(idx-1+data.length)%data.length; show(); }
function shuffleArray(a){
  for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]];}
}
function toggleAuto(){
  auto=!auto;
  btnAuto.textContent=auto?'‚è∏Ô∏è Stop':'‚ñ∂Ô∏è Auto';
  if(auto){autoId=setInterval(next,2500);}else{clearInterval(autoId);}
}
function doShuffle(){
  shuffleArray(shuffled); idx=0; show();
}

/* ---------- EVENT ---------- */
document.getElementById('next').onclick=next;
document.getElementById('prev').onclick=prev;
btnAuto.onclick=toggleAuto;
btnShuffle.onclick=doShuffle;
selLang.onchange=show;

/* swipe touch */
let x0=null;
document.getElementById('card').addEventListener('touchstart',e=>x0=e.touches[0].clientX);
document.getElementById('card').addEventListener('touchend',e=>{
  if(!x0)return; let dx=e.changedTouches[0].clientX-x0;
  if(dx>30)prev(); else if(dx<-30)next(); x0=null;
});
/* keyboard */
document.addEventListener('keydown',e=>{
  if(e.key==='ArrowRight')next(); if(e.key==='ArrowLeft')prev();
});

/* ---------- START ---------- */
show();
</script>
</body>
</html>
